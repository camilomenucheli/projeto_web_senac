/*
 Copyright (c)2006-2017 Nicholas K. Dionysopoulos / Akeeba Ltd
 @license   GNU General Public License version 3, or later
*/
if("undefined"==typeof akeeba)var akeeba={};"undefined"==typeof akeeba.Extradirs&&(akeeba.Extradirs={});akeeba.Extradirs.render=function(a){var e=document.getElementById("ak_list_contents");e.innerHTML="";for(rootname in a)a.hasOwnProperty(rootname)&&akeeba.Extradirs.addRow(rootname,a[rootname],e);akeeba.Extradirs.addNewRecordButton(e)};
akeeba.Extradirs.addRow=function(a,e,m){var h=document.createElement("tr");h.className="ak_filter_row";akeeba.System.data.set(h,"rootuuid",a);akeeba.System.data.set(h,"def",e);a=document.createElement("td");var n=document.createElement("td"),k=document.createElement("td"),l=document.createElement("td"),b=document.createElement("span");b.className="ak_filter_tab_icon_container btn btn-default delete";akeeba.System.addEventListener(b,"click",function(){var c={uuid:akeeba.System.data.get(this.parentNode.parentNode,
"rootuuid"),verb:"remove"};akeeba.Fsfilters.toggle(c,this,function(c,a){if(1==c.success){var b=a.parentNode.parentNode;b.parentNode.removeChild(b)}})});b.insertAdjacentHTML("beforeend",'<span class="icon icon-trash deletebutton ak-toggle-button"></span>');a.appendChild(b);b=document.createElement("span");b.className="ak_filter_tab_icon_container btn btn-default";akeeba.System.addEventListener(b,"click",function(){var c=this.parentNode.parentNode;this.style.display="none";c.querySelector("span.delete").style.display=
"none";var a=this.parentNode,b=a.parentNode,g=document.createElement("span");g.className="ak_filter_tab_icon_container btn btn-default save icon icon-save ak-toggle-button ak-stacked-button";akeeba.System.addEventListener(g,"click",function(){var a=c.querySelector("input.folder_editor").value,a=trim(a),b=c.querySelector("input.virtual_editor").value,b=trim(b);empty(b)&&(b=Math.uuid(8)+"-"+basename(a));var e=akeeba.System.data.get(c,"def",","),e=e.split(",",2);if(""==a)if(""==e[0])akeeba.System.triggerEvent(this.parentNode.querySelector("span.cancel"),
"click");else{var d=c.querySelector("span.delete");d.style.display="inline-block";akeeba.System.triggerEvent(d,"click")}else d={uuid:akeeba.System.data.get(c,"rootuuid"),root:a,data:b,verb:"set"},akeeba.Fsfilters.toggle(d,this,function(p,d){if(1==p.success){if(""==e[0]){var f=d.parentNode.querySelector("span.editbutton");akeeba.System.removeClass(f,"icon-plus-circle");akeeba.System.addClass(f,"icon-pencil ak-toggle-button");akeeba.Extradirs.addNewRecordButton(m)}akeeba.System.data.set(c,"def",[a,
b]);console.debug(c);c.querySelector("span.ak_directory").textContent=a;c.querySelector("span.ak_virtual").textContent=b;d.parentNode.querySelector("span.ak_filter_tab_icon_container").style.display="inline-block";f=d.parentNode.querySelector("span.cancel");f.parentNode.removeChild(f);c.querySelector("span.delete").style.display="inline-block";d.parentNode.removeChild(d);f=c.querySelector("input.folder_editor");f.parentNode.removeChild(f);f=c.querySelector("input.virtual_editor");f.parentNode.removeChild(f);
f=c.querySelector("span.browse");f.parentNode.removeChild(f);c.querySelector("span.ak_directory").style.display="inline-block";c.querySelector("span.ak_virtual").style.display="inline-block"}},!1)});a.appendChild(g);g=document.createElement("span");g.className="ak_filter_tab_icon_container btn btn-default cancel icon icon-cancel ak-toggle-button";akeeba.System.addEventListener(g,"click",function(){this.parentNode.querySelector("span.ak_filter_tab_icon_container").style.display="inline-block";var a=
this.parentNode.querySelector("span.save");a.parentNode.removeChild(a);this.parentNode.removeChild(this);a=c.querySelector("input.folder_editor");a.parentNode.removeChild(a);a=c.querySelector("input.virtual_editor");a.parentNode.removeChild(a);a=c.querySelector("span.browse");a.parentNode.removeChild(a);c.querySelector("span.ak_directory").style.display="inline-block";c.querySelector("span.ak_virtual").style.display="inline-block";a=akeeba.System.data.get(c,"def",",");a=a.split(",",2);""!=a[0]&&(c.querySelector("span.delete").style.display=
"inline-block")});a.appendChild(g);var a=akeeba.System.data.get(c,"def",","),a=a.split(",",2),b=b.querySelector("td.ak_filter_item"),g=b.nextElementSibling,d=document.createElement("input");d.setAttribute("type","text");d.setAttribute("size","60");d.className="folder_editor";d.value=a[0];var e=document.createElement("span");e.className="ak_filter_tab_icon_container btn btn-default browse icon icon-folder-open ak-toggle-button";akeeba.System.addEventListener(e,"click",function(){var a=this.parentNode.querySelector("input.folder_editor"),
b=trim(a.value);""==b&&(b="[ROOTPARENT]");akeeba.Configuration.onBrowser(b,a)});b.appendChild(d);b.appendChild(e);d=document.createElement("input");d.setAttribute("type","text");d.setAttribute("size","60");d.className="virtual_editor";d.value=a[1];g.appendChild(d);b.querySelector("span.ak_directory").style.display="none";g.querySelector("span.ak_virtual").style.display="none"});b.insertAdjacentHTML("beforeend",'<span class="icon icon-pencil editbutton ak-toggle-button"></span>');n.appendChild(b);
k.className="ak_filter_item";b=document.createElement("span");b.className="ak_filter_name ak_directory";b.textContent=e[0];k.appendChild(b);l.className="ak_filter_item";b=document.createElement("span");b.className="ak_filter_name ak_virtual";b.textContent=e[1];l.appendChild(b);h.appendChild(a);h.appendChild(n);h.appendChild(k);h.appendChild(l);m.appendChild(h)};
akeeba.Extradirs.addNewRecordButton=function(a){var e=Math.uuid();akeeba.Extradirs.addRow(e,["",""],a);a=document.getElementById("ak_list_contents").children;a=a[a.length-1].querySelectorAll("td");a[0].querySelector("span").style.display="none";a=a[1].querySelectorAll("span");a=a[a.length-1];akeeba.System.removeClass(a,"icon-pencil");akeeba.System.addClass(a,"icon-plus-circle ak-toggle-button")}; //# sourceMappingURL=IncludeFolders.min.map
